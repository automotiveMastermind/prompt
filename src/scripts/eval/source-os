#!/usr/bin/env bash

__am-prompt-source-os() {
    local UNAME=$(uname)
	local UNAME_PATH="$HOME/.am/prompt/scripts/$UNAME"

    if [ -e /etc/os-release ]; then
        source /etc/os-release

        local UNAME="$ID"
        local UNAME_PATH="$HOME/.am/prompt/scripts/$ID"
    fi

	if [ -d "$UNAME_PATH" ]; then
        export PATH="$UNAME_PATH:$PATH"
	fi

    if [ -d "$UNAME_PATH/eval" ]; then
		for EVAL_FILE in $UNAME_PATH/eval/*; do
			source "$EVAL_FILE"
		done
    fi

    export AM_PROMPT_OS=$UNAME
}

__am-prompt-source-os
